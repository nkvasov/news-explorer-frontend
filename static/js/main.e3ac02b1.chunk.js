(this["webpackJsonpnews-explorer-frontend"]=this["webpackJsonpnews-explorer-frontend"]||[]).push([[0],Array(26).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),i=n(18),r=n.n(i),o=n(7),l=(n(26),n(2)),d=n(3),u=s.a.createContext(),j=(n(27),n(28),n.p+"static/media/NewsExplorerLogo-white.a7c32369.svg"),h=n.p+"static/media/NewsExplorerLogo-black.ddd1bf25.svg",b=function(e){var t=e.navigationIsExpanded,n=e.children,a=e.themeLight,s="header ".concat(t&&"header_nav-expanded"," ").concat(a&&"header_theme_light"),i=a?h:j;return Object(c.jsxs)("header",{className:s,children:[Object(c.jsx)(o.b,{to:"/",className:"header__logo-container",children:Object(c.jsx)("img",{src:i,className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f News Explorer"})}),n]})},_=(n(34),n.p+"static/media/logout-black.e6943779.svg"),m=n.p+"static/media/logout-white.96d43996.svg",p=function(e){var t=e.onSigninBtnClick,n=e.expanded,s=e.onMenuClick,i=e.themeLight,r=e.onExitClick,l=Object(a.useContext)(u),d="nav ".concat(n&&"nav_expanded"),j="nav__link ".concat(i&&"nav__link_theme_light"),h="nav__btn ".concat(i&&"nav__btn_theme_light"),b="nav__btn ".concat(i&&"nav__btn_theme_light"),p=i?_:m;return Object(c.jsx)("nav",{className:d,children:Object(c.jsxs)("div",{className:"nav__container ".concat(i&&"nav__container_theme_light"),children:[Object(c.jsxs)("ul",{className:"nav__links",children:[Object(c.jsx)("li",{className:"nav__link-container",children:Object(c.jsx)(o.c,{exact:!0,to:"/",className:j,activeClassName:"nav__link_active",onClick:s,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),l._id&&Object(c.jsx)("li",{className:"nav__link-container",children:Object(c.jsx)(o.c,{to:"/saved-news",className:j,activeClassName:"nav__link_active",onClick:s,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"})})]}),!l._id&&Object(c.jsx)("button",{className:h,onClick:t,children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),l._id&&Object(c.jsxs)("button",{className:b,onClick:r,children:[l.name,Object(c.jsx)("img",{className:"nav__btn-image",src:p,alt:"\u0412\u044b\u0439\u0442\u0438"})]})]})})},O=(n(35),function(e){var t=e.onClick,n=e.isPressed,a=e.themeLight,s=e.isHidden,i="hamburger hamburger_icon_white-lines\n  ".concat(n&&"hamburger_icon_white-cross","\n  ").concat(a&&"hamburger_icon_black-lines","\n  ").concat(n&&a&&"hamburger_icon_black-cross","\n  ").concat(s&&"hamburger_hidden");return Object(c.jsx)("button",{className:i,onClick:t})}),f=(n(36),n.p+"static/media/github.df660a36.svg"),x=n.p+"static/media/fb.60abc816.svg",g=function(){return Object(c.jsxs)("footer",{className:"footer",children:[Object(c.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Supersite, Powered by News API"}),Object(c.jsxs)("nav",{className:"footer__nav",children:[Object(c.jsxs)("ul",{className:"footer__text-links",children:[Object(c.jsx)("li",{className:"footer__text-link-container",children:Object(c.jsx)(o.b,{to:"/",className:"footer__text-link",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(c.jsx)("li",{className:"footer__text-link-container",children:Object(c.jsx)("a",{href:"https://praktikum.yandex.ru/",className:"footer__text-link",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})})]}),Object(c.jsxs)("ul",{className:"footer__icon-links",children:[Object(c.jsx)("li",{className:"footer__icon-link-container",children:Object(c.jsx)("a",{href:"https://github.com/nkvasov",className:"footer__icon-link",target:"_blank",rel:"noreferrer",children:Object(c.jsx)("img",{src:f,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f GitHub"})})}),Object(c.jsx)("li",{className:"footer__icon-link-container",children:Object(c.jsx)("a",{href:"https://www.facebook.com/nickolay.kvasov/",className:"footer__icon-link",target:"_blank",rel:"noreferrer",children:Object(c.jsx)("img",{src:x,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f Facebook"})})})]})]})]})},v=(n(37),function(e){var t=e.handleNewsSearch,n=Object(a.useState)(""),s=Object(l.a)(n,2),i=s[0],r=s[1];return Object(c.jsx)("section",{className:"search",children:Object(c.jsxs)("div",{className:"search__container",children:[Object(c.jsx)("h1",{className:"search__title",children:"\u0427\u0442\u043e \u0442\u0432\u043e\u0440\u0438\u0442\u0441\u044f \u0432 \u043c\u0438\u0440\u0435?"}),Object(c.jsx)("p",{className:"search__subtitle",children:"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0435 \u0441\u0432\u0435\u0436\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430 \u043b\u044e\u0431\u0443\u044e \u0442\u0435\u043c\u0443 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0432 \u0441\u0432\u043e\u0451\u043c \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435."}),Object(c.jsxs)("form",{className:"search__form",onSubmit:function(e){e.preventDefault(),t(i)},children:[Object(c.jsx)("input",{className:"search__input",type:"text",name:"search-text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043c\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0438",required:!0,minLength:"2",maxLength:"100",value:i,onChange:function(e){r(e.target.value)}}),Object(c.jsx)("button",{className:"btn btn_type_submit search__btn",type:"submit","aria-label":"\u0418\u0441\u043a\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u0438 \u043f\u043e \u0442\u0435\u043c\u0435",children:"\u0418\u0441\u043a\u0430\u0442\u044c"})]})]})})}),N=(n(38),function(e){var t=e.newsCard,n=e.handleNewsSave,s=e.handleNewsDelete,i=e.loggedIn,r=e.savedNews,o=Object(d.h)(),u=Object(a.useState)(!1),j=Object(l.a)(u,2),h=j[0],b=j[1],_=Object(a.useState)(!1),m=Object(l.a)(_,2),p=m[0],O=m[1],f=Object(a.useState)(!1),x=Object(l.a)(f,2),g=x[0],v=x[1];Object(a.useEffect)((function(){i&&function(e){var n=r.find((function(t){return t.link===e.link}));n&&(t._id=n._id,b(!0))}(t)}),[i,r]);var N="card__widget card__widget_content_icon card__widget_icon_bookmark ".concat("/saved-news"!==o.pathname&&"card__widget_visible"," ").concat(h&&"card__widget_icon_bookmark-marked"),w="card__widget card__widget_content_icon card__widget_icon_trash ".concat("/saved-news"===o.pathname&&"card__widget_visible"),k="card__widget card__widget_content_text card__widget_key-feature ".concat("/saved-news"===o.pathname&&"card__widget_visible"),S="card__widget card__widget_content_text ".concat(!i&&p&&"card__widget_visible"),C="card__widget card__widget_content_text ".concat(g&&"card__widget_visible"),y=new Date(Date.parse(t.date)).toLocaleString("ru",{day:"numeric",month:"long",year:"numeric"});return Object(c.jsxs)("li",{className:"card",children:[Object(c.jsxs)("div",{className:"card__widgets-container",children:[Object(c.jsx)("div",{className:k,children:Object(c.jsx)("span",{children:t.keyword})}),Object(c.jsxs)("div",{className:"card__widgets-wrapper",children:[Object(c.jsx)("div",{className:w,onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},onClick:function(){return s(t)}}),Object(c.jsx)("div",{className:N,onClick:function(){h?s(t).then((function(){b(!1)})).catch((function(e){console.log(e)})):n(t).then((function(){t._id=r[0]._id,b(!0)})).catch((function(e){console.log(e)}))},onMouseEnter:function(){return O(!0)},onMouseLeave:function(){return O(!1)}}),Object(c.jsx)("div",{className:S,children:Object(c.jsx)("span",{children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438"})}),Object(c.jsx)("div",{className:C,children:Object(c.jsx)("span",{children:"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445"})})]})]}),Object(c.jsx)("img",{className:"card__image",src:t.image,alt:'\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0438 "'.concat(t.title,'"')}),Object(c.jsxs)("a",{href:t.link,className:"card__bottom-container",target:"_blank",rel:"noreferrer",children:[Object(c.jsx)("header",{className:"card__header",children:y}),Object(c.jsxs)("article",{className:"card__article",children:[Object(c.jsx)("h3",{className:"card__title",children:t.title}),Object(c.jsx)("p",{className:"card__text",children:t.text})]}),Object(c.jsx)("footer",{className:"card__footer",children:t.source})]})]})}),w=(n(39),function(e){var t=e.newsCards,n=e.handleNewsSave,a=e.handleNewsDelete,s=e.loggedIn,i=e.savedNews;return Object(c.jsx)("ul",{className:"card-list",children:t.map((function(e){return Object(c.jsx)(N,{newsCard:e,handleNewsSave:n,handleNewsDelete:a,loggedIn:s,savedNews:i},e.link)}))})}),k=(n(40),function(e){var t=e.newsCards,n=e.handleShowMoreCardsClick,a=e.cardsQuantity,s=e.handleNewsSave,i=e.loggedIn,r=e.handleNewsDelete,o=e.savedNews,l=localStorage.getItem("keyword"),d=(t=t.map((function(e){return{keyword:l,title:e.title,text:e.description,date:e.publishedAt,source:e.source.name,link:e.url,image:e.urlToImage}}))).slice(0,a);return Object(c.jsxs)("section",{className:"search-result",children:[Object(c.jsx)("h2",{className:"search-result__title",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(c.jsx)(w,{newsCards:d,handleNewsSave:s,loggedIn:i,savedNews:o,handleNewsDelete:r}),t.length>a&&Object(c.jsx)("button",{type:"button",className:"btn search-result__btn",onClick:n,children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451"})]})}),S=(n(41),n.p+"static/media/anteater.a62221ac.jpg"),C=function(e){return Object(c.jsxs)("section",{className:"about",children:[Object(c.jsx)("img",{src:S,className:"about__image",alt:"\u0444\u043e\u0442\u043e \u0430\u0432\u0442\u043e\u0440\u0430"}),Object(c.jsxs)("div",{className:"about__text-container",children:[Object(c.jsx)("h2",{className:"about__title",children:"\u041e\u0431 \u0430\u0432\u0442\u043e\u0440\u0435"}),Object(c.jsx)("p",{className:"about__text",children:"\u042d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043b \u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u043c\u0443\u0440\u0430\u0432\u044c\u0435\u0434 \u0421\u0435\u043c\u0451\u043d. \u0412\u0441\u044e \u0436\u0438\u0437\u043d\u044c \u043e\u043d \u0437\u0430\u043d\u0438\u043c\u0430\u043b\u0441\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u043e\u0439 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439. \u0420\u0430\u0431\u043e\u0442\u0430\u043b \u0432 \u0436\u0443\u0440\u043d\u0430\u043b\u0430\u0445, \u0433\u0434\u0435 \u0437\u0430\u043d\u0438\u043c\u0430\u043b\u0441\u044f \u043f\u0440\u0435\u043f\u0440\u0435\u0441\u0441\u043e\u043c \u0438 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0432\u0435\u0440\u0441\u0442\u043a\u043e\u0439. \u0422\u0430\u043a\u0436\u0435 \u043e\u043d \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0430\u043b \u0441 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0430\u043c\u0438 \u0438 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u043b \u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445. \u041e\u0431\u044b\u0447\u043d\u043e\u0439 \u0435\u0433\u043e \u0440\u0430\u0431\u043e\u0442\u043e\u0439 \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u0438\u0440\u0430\u0442\u044c \u043a\u043e\u043b\u043b\u0430\u0436\u0438 \u0440\u0430\u0437\u043d\u043e\u0439 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043f\u043e \u043c\u0430\u043a\u0435\u0442\u0430\u043c \u0430\u0440\u0442-\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u043e\u0432, \u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0435\u0442\u0443\u0448\u044c, \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044f \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0447\u0430\u0441\u0442\u043e\u0442\u043d\u043e\u0435 \u0440\u0430\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0446\u0432\u0435\u0442\u043e\u043a\u043e\u0440\u0440\u0435\u043a\u0446\u0438\u0435\u0439 \u0438 \u0446\u0432\u0435\u0442\u043e\u0434\u0435\u043b\u0435\u043d\u0438\u0435\u043c, \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u043a \u043f\u0435\u0447\u0430\u0442\u0438."}),Object(c.jsx)("p",{className:"about__text",children:"\u041d\u043e \u043f\u043e\u0447\u0435\u043c\u0443-\u0442\u043e \u043e\u043d \u0440\u0435\u0448\u0438\u043b, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0431\u044f \u0432 \u0434\u0440\u0443\u0433\u043e\u043c \u0434\u0435\u043b\u0435. \u0422\u0430\u043a \u043e\u043d \u043e\u043a\u0430\u0437\u0430\u043b\u0441\u044f \u0432 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0435. \u0412 \u043e\u0431\u044b\u0447\u043d\u044b\u0435 \u0443\u0447\u0435\u0431\u043d\u044b\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442 \u043c\u0443\u0440\u0432\u044c\u0435\u0434\u043e\u0432. \u041d\u043e \u0432 \u042f\u043d\u0434\u0435\u043a\u0441\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u0441\u0451!"}),Object(c.jsx)("p",{className:"about__text",children:"\u041d\u0430 \u043a\u0430\u0436\u0434\u043e\u043c \u044d\u0442\u0430\u043f\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u0435\u043c\u0443 \u043a\u0430\u0437\u0430\u043b\u043e\u0441\u044c, \u0447\u0442\u043e \u043e\u043d \u043d\u0435 \u0441\u043f\u0440\u0430\u0432\u0438\u0442\u0441\u044f. \u041d\u043e \u043a\u0430\u043a-\u0442\u043e \u0435\u043c\u0443 \u0443\u0434\u0430\u0432\u0430\u043b\u043e\u0441\u044c \u043f\u0440\u043e\u0441\u043a\u043e\u0447\u0438\u0442\u044c. \u0422\u0435\u043f\u0435\u0440\u044c \u043e\u043d \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0432\u0435\u0440\u0441\u0442\u0430\u0435\u0442, \u0447\u0443\u0442\u044c-\u0447\u0443\u0442\u044c \u043e\u0432\u043b\u0430\u0434\u0435\u043b JS, \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u043b React \u0438 \u0434\u0430\u0436\u0435 Node. \u041d\u043e \u0431\u0443\u0434\u0443\u0449\u0435\u0435 \u0432\u0441\u0435 \u0440\u0430\u0432\u043d\u043e \u0432\u0438\u0434\u0438\u0442\u0441\u044f \u0435\u043c\u0443 \u0442\u0443\u043c\u0430\u043d\u043d\u044b\u043c. \u0412\u0435\u0434\u044c \u0434\u0430\u043b\u0435\u043a\u043e \u043d\u0435 \u043a\u0430\u0436\u0434\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f \u043f\u043e\u043d\u0438\u043c\u0430\u0435\u0442 \u0446\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043c\u0443\u0440\u0430\u0432\u044c\u0435\u0434\u0430 \u0438 \u0440\u0435\u0448\u0438\u0442\u0441\u044f \u0432\u0437\u044f\u0442\u044c \u0435\u0433\u043e \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443."})]})]})},y=(n(42),function(e){return Object(c.jsxs)("section",{className:"preloader",children:[Object(c.jsx)("div",{className:"circle-preloader"}),Object(c.jsx)("p",{className:"preloader__caption",children:"\u0418\u0434\u0451\u0442 \u043f\u043e\u0438\u0441\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439..."})]})}),L=n.p+"static/media/not-found_v1.8fabc218.svg",E=function(){return Object(c.jsxs)("section",{className:"search-result",children:[Object(c.jsx)("img",{className:"search-result__image",src:L,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),Object(c.jsx)("h2",{className:"search-result__title search-result__title_type_centred-small",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),Object(c.jsx)("p",{className:"search-result__text",children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."})]})},I=function(){return Object(c.jsxs)("section",{className:"search-result",children:[Object(c.jsx)("h2",{className:"search-result__title search-result__title_type_centred-small",children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(c.jsx)("p",{className:"search-result__text",children:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"})]})},T="https://api.nkvasov.students.nomoreparties.space",P=(n(43),function(e){var t=e.handleNewsSave,n=e.savedNews,s=e.loggedIn,i=e.handleNewsDelete,r=Object(a.useState)([]),o=Object(l.a)(r,2),d=o[0],u=o[1],j=Object(a.useState)(!1),h=Object(l.a)(j,2),b=h[0],_=h[1],m=Object(a.useState)(3),p=Object(l.a)(m,2),O=p[0],f=p[1],x=Object(a.useState)(!1),g=Object(l.a)(x,2),N=g[0],w=g[1];Object(a.useEffect)((function(){if(localStorage.getItem("searched-items")){var e=JSON.parse(localStorage.getItem("searched-items"));u(e)}}),[]);return Object(c.jsxs)("main",{className:"content",children:[Object(c.jsx)(v,{handleNewsSearch:function(e){N&&w(!1),_(!0),function(e){var t=new Date,n=t.toJSON().slice(0,10);t.setDate(t.getDate()-7);var c=t.toJSON().slice(0,10),a="".concat("https://newsapi.org/v2/everything?","pageSize=").concat("100","&apiKey=").concat("ff34e17681f84783beff0fa34fbf196c","&from=").concat(c,"&to=").concat(n,"&q=").concat(e);return fetch(a).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}(e).then((function(t){if(0===t.articles.length)localStorage.removeItem("searched-items"),u([]);else{localStorage.setItem("searched-items",JSON.stringify(t.articles)),localStorage.setItem("keyword",e);var n=JSON.parse(localStorage.getItem("searched-items"));u(n),f(3)}})).catch((function(e){return w(!0)})).finally((function(){_(!1)}))}}),b&&Object(c.jsx)(y,{}),N&&Object(c.jsx)(I,{}),0===d.length&&!N&&Object(c.jsx)(E,{}),d.length>0&&Object(c.jsx)(k,{newsCards:d,cardsQuantity:O,handleShowMoreCardsClick:function(){f(O+3)},handleNewsSave:t,loggedIn:s,handleNewsDelete:i,savedNews:n}),Object(c.jsx)(C,{})]})}),D=(n(44),function(e){var t,n,a,s,i=e.name,r=e.cardsQuantity,o=e.keywordsRaiting;return o&&(t=o[0].keyword,n=o.length>1?", ".concat(o[1].keyword):"",a=3===o.length?" \u0438 ".concat(o[2].keyword," "):"",s=o.length>3?" \u0438 ".concat(o.length-2," \u0434\u0440\u0443\u0433\u0438\u043c"):""),Object(c.jsxs)("section",{className:"saved-news-header",children:[Object(c.jsx)("h2",{className:"saved-news-header__title",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(c.jsx)("p",{className:"saved-news-header__text",children:"".concat(i,", \u0443 \u0432\u0430\u0441 ").concat(r," \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0442\u0435\u0439")}),o&&Object(c.jsxs)("p",{className:"saved-news-header__subtitle",children:["\u041f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c: ",Object(c.jsxs)("span",{className:"saved-news-header__subtitle_key",children:[t,n,a]}),s]})]})}),A=(n(45),function(e){var t,n=e.newsCards,s=e.handleNewsDelete,i=Object(a.useContext)(u);return 0===n.length?t=null:(t=n.reduce((function(e,t){var n=e.findIndex((function(e){return e.keyword.toLowerCase()===t.keyword.toLowerCase()}));return-1===n?(e.push({keyword:t.keyword,quantity:1}),e):(e[n].quantity+=1,e)}),[])).sort((function(e,t){return-e.quantity+t.quantity})),Object(c.jsxs)("main",{className:"saved-content",children:[Object(c.jsx)(D,{name:i.name,cardsQuantity:n.length,keywordsRaiting:t}),Object(c.jsx)("section",{className:"saved-news",children:Object(c.jsx)(w,{newsCards:n,handleNewsDelete:s})})]})}),B=n(10),q=n(8),J=(n(46),function(e){var t=e.name,n=e.title,s=e.submitBtnText,i=e.alternativeLinkText,r=e.onAlternativeLinkClick,o=e.onEscPress,l=e.isOpen,d=e.onClose,u=e.onSubmit,j=e.themeLight,h=e.formIsValid,b=e.isLoading,_=e.children,m="popup ".concat(l&&"popup_opened"),p="popup__close-btn ".concat(j&&"popup__close-btn_theme_light");return Object(a.useEffect)((function(){return l&&document.addEventListener("keydown",o),function(){l&&document.removeEventListener("keydown",o)}}),[l,o]),Object(c.jsx)("section",{className:m,onClick:d,children:Object(c.jsxs)("form",{className:"popup__container",name:t,onClick:function(e){return e.stopPropagation()},noValidate:!0,onSubmit:u,children:[Object(c.jsx)("h2",{className:"popup__title",children:n}),Object(c.jsx)("button",{className:p,type:"button",name:"close",onClick:d,"aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u043f\u0430\u043f"}),_,Object(c.jsx)("button",{className:"btn btn_type_submit popup__submit-btn",type:"submit",disabled:b||!h,children:s}),Object(c.jsxs)("p",{className:"popup__alt-submit-text",children:["\u0438\u043b\u0438 ",Object(c.jsx)("span",{className:"popup__alt-submit-link",onClick:function(){d(),r()},children:i})]})]})})}),M=function(e){var t=e.isOpen,n=e.title,s=e.submitBtnText,i=e.alternativeLinkText,r=e.onAlternativeLinkClick,o=e.onClose,d=e.onEscPress,u=e.themeLight,j=e.handleLogin,h=Object(a.useState)({email:"",password:""}),b=Object(l.a)(h,2),_=b[0],m=b[1],p=Object(a.useState)({}),O=Object(l.a)(p,2),f=O[0],x=O[1],g=Object(a.useState)(!1),v=Object(l.a)(g,2),N=v[0],w=v[1],k=Object(a.useState)({}),S=Object(l.a)(k,2),C=S[0],y=S[1],L=Object(a.useState)(!1),E=Object(l.a)(L,2),I=E[0],T=E[1],P=function(){m({email:"",password:""}),x({}),w(!1),y({})},D=function(){P(),o()},A=function(e){y({});var t=e.target,n=t.name,c=t.value;m(Object(q.a)(Object(q.a)({},_),{},Object(B.a)({},n,c))),x(Object(q.a)(Object(q.a)({},f),{},Object(B.a)({},n,t.validationMessage))),w(t.closest("form").checkValidity())};return Object(c.jsxs)(J,{isOpen:t,title:n,submitBtnText:s,alternativeLinkText:i,onAlternativeLinkClick:r,onClose:D,onEscPress:function(e){d(e)&&P()},themeLight:u,onSubmit:function(e){e.preventDefault(),T(!0),j(_.password,_.email).then((function(){D()})).catch((function(e){y(e)})).finally((function(){return T(!1)}))},formIsValid:N,isLoading:I,children:[Object(c.jsxs)("div",{className:"popup__field",children:[Object(c.jsx)("label",{className:"popup__input-title",children:"Email"}),Object(c.jsx)("input",{className:"popup__input",type:"email",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",required:!0,minLength:"3",maxLength:"40",value:_.email,onChange:A}),Object(c.jsx)("span",{className:"popup__input-error popup__input-error_active",children:f.email})]}),Object(c.jsxs)("div",{className:"popup__field",children:[Object(c.jsx)("label",{className:"popup__input-title",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(c.jsx)("input",{className:"popup__input",type:"password",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",required:!0,minLength:"5",maxLength:"20",value:_.password,onChange:A}),Object(c.jsx)("span",{className:"popup__input-error popup__input-error_active",children:f.password})]}),Object(c.jsx)("span",{className:"popup__form-error popup__form-error_active",children:C.message})]})},R=function(e){var t=e.isOpen,n=e.title,s=e.submitBtnText,i=e.alternativeLinkText,r=e.onAlternativeLinkClick,o=e.onClose,d=e.onEscPress,u=e.themeLight,j=e.handleRegistration,h=e.handleRegistrationSuccess,b=Object(a.useState)({email:"",password:"",name:""}),_=Object(l.a)(b,2),m=_[0],p=_[1],O=Object(a.useState)({}),f=Object(l.a)(O,2),x=f[0],g=f[1],v=Object(a.useState)(!1),N=Object(l.a)(v,2),w=N[0],k=N[1],S=Object(a.useState)({}),C=Object(l.a)(S,2),y=C[0],L=C[1],E=Object(a.useState)(!1),I=Object(l.a)(E,2),T=I[0],P=I[1],D=function(){p({email:"",password:"",name:""}),g({}),k(!1),L({})},A=function(){D(),o()},M=function(e){L({});var t=e.target,n=t.name,c=t.value;p(Object(q.a)(Object(q.a)({},m),{},Object(B.a)({},n,c))),g(Object(q.a)(Object(q.a)({},x),{},Object(B.a)({},n,t.validationMessage))),k(t.closest("form").checkValidity())};return Object(c.jsxs)(J,{isOpen:t,title:n,submitBtnText:s,alternativeLinkText:i,onAlternativeLinkClick:r,onClose:A,onEscPress:function(e){d(e)&&D()},themeLight:u,onSubmit:function(e){e.preventDefault(),P(!0),j(m.password,m.email,m.name).then((function(e){console.log(e),e&&(A(),h())})).catch((function(e){L(e)})).finally((function(){return P(!1)}))},formIsValid:w,isLoading:T,children:[Object(c.jsxs)("div",{className:"popup__field",children:[Object(c.jsx)("label",{className:"popup__input-title",children:"Email"}),Object(c.jsx)("input",{className:"popup__input",type:"email",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",required:!0,minLength:"3",maxLength:"40",value:m.email,onChange:M,disabled:T}),Object(c.jsx)("span",{className:"popup__input-error",children:x.email})]}),Object(c.jsxs)("div",{className:"popup__field",children:[Object(c.jsx)("label",{className:"popup__input-title",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(c.jsx)("input",{className:"popup__input",type:"password",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",required:!0,minLength:"5",maxLength:"20",value:m.password,onChange:M,disabled:T}),Object(c.jsx)("span",{className:"popup__input-error",children:x.password})]}),Object(c.jsxs)("div",{className:"popup__field",children:[Object(c.jsx)("label",{className:"popup__input-title",children:"\u0418\u043c\u044f"}),Object(c.jsx)("input",{className:"popup__input",type:"text",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0451 \u0438\u043c\u044f",required:!0,minLength:"2",maxLength:"15",value:m.name,onChange:M,disabled:T}),Object(c.jsx)("span",{className:"popup__input-error",children:x.name})]}),Object(c.jsx)("span",{className:"popup__form-error",children:y.message})]})},V=function(e){var t=e.title,n=e.onLinkClick,s=e.onEscPress,i=e.isOpen,r=e.onClose,o=e.themeLight,l="popup ".concat(i&&"popup_opened"),d="popup__close-btn ".concat(o&&"popup__close-btn_theme_light");return Object(a.useEffect)((function(){return i&&document.addEventListener("keydown",s),function(){i&&document.removeEventListener("keydown",s)}}),[i,s]),Object(c.jsx)("section",{className:l,onClick:r,children:Object(c.jsxs)("div",{className:"popup__container",onClick:function(e){return e.stopPropagation()},children:[Object(c.jsx)("h2",{className:"popup__title",children:t}),Object(c.jsx)("button",{className:d,type:"reset",name:"close",onClick:r,"aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u043f\u0430\u043f"}),Object(c.jsx)("p",{className:"popup__link",onClick:function(){r(),n()},children:"\u0412\u043e\u0439\u0442\u0438"})]})})},z=n(20),Q=function(e){var t=e.component,n=Object(z.a)(e,["component"]);return Object(c.jsx)(d.b,{children:function(){return n.loggedIn?Object(c.jsx)(t,Object(q.a)({},n)):n.onRedirect()}})},G=function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))},H=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))};var F=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(!1),r=Object(l.a)(i,2),o=r[0],j=r[1],h=Object(a.useState)(!1),_=Object(l.a)(h,2),m=_[0],f=_[1],x=Object(a.useState)(!1),v=Object(l.a)(x,2),N=v[0],w=v[1],k=Object(a.useState)(!1),S=Object(l.a)(k,2),C=S[0],y=S[1],L=Object(a.useState)(!1),E=Object(l.a)(L,2),I=E[0],D=E[1],B=Object(a.useState)(!1),q=Object(l.a)(B,2),J=q[0],z=q[1],F=Object(a.useState)({}),K=Object(l.a)(F,2),U=K[0],W=K[1],X=Object(a.useState)(!1),Y=Object(l.a)(X,2),Z=Y[0],$=Y[1],ee=Object(a.useState)([]),te=Object(l.a)(ee,2),ne=te[0],ce=te[1],ae=Object(d.h)(),se=Object(d.g)();function ie(){if(localStorage.getItem("jwt")){var e=localStorage.getItem("jwt");if(e)return(t=e,fetch("".concat(T,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){return e}))).then((function(e){e&&($(!0),W(e))})).catch((function(e){return console.log(e)}))}var t}Object(a.useEffect)((function(){ie()}),[]),Object(a.useEffect)((function(){if(Z){var e=localStorage.getItem("jwt");(t=e,fetch("".concat(T,"/articles"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(H)).then((function(e){ce(e.reverse())})).catch((function(e){console.log(e)}))}var t}),[Z]),Object(a.useEffect)((function(){"/saved-news"===ae.pathname?z(!0):z(!1)}),[ae.pathname]);var re=function(){n&&oe(),f(!0),s(!0),o&&(j(!1),D(!1))},oe=function(){m?f(!1):N?w(!1):C&&y(!1),s(!1)},le=function(e){if("Escape"===e.key)return oe(),!0};function de(e){var t,n,c=localStorage.getItem("jwt");return(t=c,n=e._id,fetch("".concat(T,"/articles/").concat(n),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(H)).then((function(e){var t=ne.findIndex((function(t){return t._id===e._id})),n=ne.slice();n.splice(t,1),ce(n)}))}var ue="page ".concat((n||o)&&"page_fixed");return Object(c.jsx)(u.Provider,{value:U,children:Object(c.jsxs)("div",{className:ue,children:[Object(c.jsxs)(b,{navigationIsExpanded:o,themeLight:J,children:[Object(c.jsx)(O,{onClick:function(){j(!o),D(!o)},isPressed:I,themeLight:J,isHidden:n}),Object(c.jsx)(p,{expanded:o,onSigninBtnClick:re,onMenuClick:function(){j(!1),s(!1),D(!1)},themeLight:J,onExitClick:function(){localStorage.removeItem("jwt"),W({}),$(!1),se.push("/")}})]}),Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{exact:!0,path:"/",children:Object(c.jsx)(P,{handleNewsSave:function(e){return function(e,t){return fetch("".concat(T,"/articles"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then(H)}(localStorage.getItem("jwt"),e).then((function(e){var t=ne.slice();t.unshift(e),ce(t)}))},handleNewsDelete:de,savedNews:ne,loggedIn:Z})}),Object(c.jsx)(Q,{exact:!0,path:"/saved-news",onRedirect:function(){return ie(),Z||f(!0),Object(c.jsx)(d.a,{to:"/"})},component:A,newsCards:ne,loggedIn:Z,handleNewsDelete:de})]}),Object(c.jsx)(M,{isOpen:m,title:"\u0412\u0445\u043e\u0434",submitBtnText:"\u0412\u043e\u0439\u0442\u0438",alternativeLinkText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",onAlternativeLinkClick:function(){n&&oe(),w(!0),s(!0),o&&(j(!1),D(!1))},onClose:oe,onEscPress:le,themeLight:J,handleLogin:function(e,t){return function(e,t){return fetch("".concat(T,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})}).then(G).then((function(e){return e.token&&localStorage.setItem("jwt",e.token),e}))}(e,t).then((function(e){e.token&&ie()}))}}),Object(c.jsx)(R,{isOpen:N,title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",submitBtnText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",onAlternativeLinkClick:re,alternativeLinkText:"\u0412\u043e\u0439\u0442\u0438",onClose:oe,onEscPress:le,themeLight:J,handleRegistration:function(e,t,n){return function(e,t,n){return fetch("".concat(T,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t,name:n})}).then(G).then((function(e){return e}))}(e,t,n)},handleRegistrationSuccess:function(){n&&oe(),s(!0),y(!0)}}),Object(c.jsx)(V,{isOpen:C,title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d!",onLinkClick:re,onEscPress:le,onClose:oe,themeLight:J}),Object(c.jsx)(g,{})]})})};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(o.a,{children:Object(c.jsx)(F,{})})}),document.getElementById("root"))}]),[[47,1,2]]]);
//# sourceMappingURL=main.e3ac02b1.chunk.js.map